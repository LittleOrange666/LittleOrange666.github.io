---
title: 小橘子的競程筆記-APCS-歷屆第4題
---

# 歷屆第4題
## 2016年3月
[線段覆蓋長度](https://zerojudge.tw/ShowProblem?problemid=b967)
:::spoiler 提示
:::
:::spoiler 題解
:::
:::spoiler C++範例代碼：
```cpp
```
:::
:::spoiler Python範例代碼：
```py
```
:::
## 2016年10月
[棒球遊戲](https://zerojudge.tw/ShowProblem?problemid=c297)
:::spoiler 提示
:::
:::spoiler 題解
:::
:::spoiler C++範例代碼：
```cpp
```
:::
:::spoiler Python範例代碼：
```py
```
:::
## 2017年3月
[基地台](https://zerojudge.tw/ShowProblem?problemid=c575)
:::spoiler 提示
:::
:::spoiler 題解
:::
:::spoiler C++範例代碼：
```cpp
```
:::
:::spoiler Python範例代碼：
```py
```
:::
## 2017年10月
[物品堆疊](https://zerojudge.tw/ShowProblem?problemid=c471)
:::spoiler 提示
:::
:::spoiler 題解
:::
:::spoiler C++範例代碼：
```cpp
```
:::
:::spoiler Python範例代碼：
```py
```
:::
## 2019年6月
[美麗的彩帶](https://zerojudge.tw/ShowProblem?problemid=e289)
:::spoiler 提示
:::
:::spoiler 題解
:::
:::spoiler C++範例代碼：
```cpp
```
:::
:::spoiler Python範例代碼：
```py
```
:::
## 2020年1月
[貨物分配](https://zerojudge.tw/ShowProblem?problemid=h029)
:::spoiler 提示
:::
:::spoiler 題解
:::
:::spoiler C++範例代碼：
```cpp
```
:::
:::spoiler Python範例代碼：
```py
```
:::
## 2020年7月
[病毒演化](https://zerojudge.tw/ShowProblem?problemid=f582)
:::spoiler 提示
:::
:::spoiler 題解
:::
:::spoiler C++範例代碼：
```cpp
```
:::
:::spoiler Python範例代碼：
```py
```
:::
## 2020年10月
[低地距離](https://zerojudge.tw/ShowProblem?problemid=f315)
:::spoiler 提示
:::
:::spoiler 題解
:::
:::spoiler C++範例代碼：
```cpp
```
:::
:::spoiler Python範例代碼：
```py
```
:::
## 2021年1月
[飛黃騰達](https://zerojudge.tw/ShowProblem?problemid=f608)
:::spoiler 提示
:::
:::spoiler 題解
:::
:::spoiler C++範例代碼：
```cpp
```
:::
:::spoiler Python範例代碼：
```py
```
:::
## 2021年9月
[幸運數字](https://zerojudge.tw/ShowProblem?problemid=g278)
:::spoiler 提示
:::
:::spoiler 題解
:::
:::spoiler C++範例代碼：
```cpp
```
:::
:::spoiler Python範例代碼：
```py
```
:::
## 2021年11月
[真假子圖](https://zerojudge.tw/ShowProblem?problemid=g598)
:::spoiler 提示
:::
:::spoiler 題解
:::
:::spoiler C++範例代碼：
```cpp
```
:::
:::spoiler Python範例代碼：
```py
```
:::
## 2022年1月
[牆上海報](https://zerojudge.tw/ShowProblem?problemid=h084)
:::spoiler 提示
貪心法、二分搜
:::
:::spoiler 題解
用貪心法可$O(n)$求出某一高度能否貼海報
能否貼海報$\leftrightarrow$此高度$\le$最大高度$=$答案
且已知答案為$[1,h_{max}]$中的一個整數
對$[1,h_{max}]$二分搜
$O(n\log_2h_{max})$
:::
:::spoiler C++範例代碼：
```cpp
#include <bits/stdc++.h>
using namespace std;
int n,k;
vector<int> h,w;
bool check(int ans){
    int t = 0,len=0;
    for (int i = 0;i<n;i++){
        if (h[i]>=ans) len++;
        else len = 0;
        if(len>=w[t]){
            len-=w[t];
            t++;
            if(t>=k) return true;
        }
    }
    return false;
}
int search_ans(int l, int r){
    if (l == r) return l;
    int mid = ((r+l)/2)+1;
    if (check(mid)){
        return search_ans(mid,r);
    }
    return search_ans(l,mid-1);
}
int main(){
    ios::sync_with_stdio(false);cin.tie();
    cin >> n >> k;
    h.resize(n);
    w.resize(k);
    int mh = 0;
    for (int i = 0;i<n;i++){
        cin>>h[i];
        if(h[i]>mh) mh=h[i];
    }
    for (int i = 0;i<k;i++){
        cin>>w[i];
    }
    cout << search_ans(1,mh) << "\n";
}
```
:::
:::spoiler Python範例代碼：
```py
n=k=0
h=[]
w=[]
def check(ans):
    t = l = 0
    for i in range(n):
        if h[i]>=ans:
            l+=1
        else:
            l=0
        if l>=w[t]:
            l-=w[t]
            t+=1
            if t>=k:
                return True
    return False
def search(l,r):
    if l==r:
        return l
    mid = (l+r)//2+1
    if check(mid):
        return search(mid,r)
    return search(l,mid-1)
n,k = map(int,input().split())
h = [int(s) for s in input().split()]
w = [int(s) for s in input().split()]
print(search(1,max(h)))
```
:::
## 2022年6月
[內積](https://zerojudge.tw/ShowProblem?problemid=i402)
:::spoiler 提示
dp
:::
:::spoiler 題解
用各種排列方式對齊後，直接兩兩相乘，做最大連續區間和
即掃描一次序列 求 目前前綴和 - 最小前綴和 之最大值
$O(mn)$
:::
:::spoiler C++範例代碼：
```cpp
#include<bits/stdc++.h>
using namespace std;
using ll = long long;
ll solve(vector<ll> &a, vector<ll> &b){
    ll la = a.size();
    ll lb = b.size();
    ll ans = -1e18;
    for (ll d = -la+1;d<=lb-1;d++){
        ll s = 0;
        ll p = 0;
        for (ll i = max(0LL,-d); i<min(la,lb-d);i++){
            s += a[i]*b[i+d];
            ans = max(ans,s-p);
            p = min(p,s);
        }
    }
    return ans;
}
int main(){
    ios::sync_with_stdio(0);cin.tie(0);
    ll m,n;
    cin >> m >> n;
    vector<ll> x(m),y(n);
    for (ll &i : x) cin >> i;
    for (ll &i : y) cin >> i;
    ll ans = solve(x,y);
    reverse(y.begin(),y.end());
    ans = max(ans,solve(x,y));
    cout << ans << "\n";
}
```
:::
:::spoiler Python範例代碼：
```py
```
:::