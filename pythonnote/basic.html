<html>

<head>
    <title>Python基礎語法</title>
    <base target="_top">
    <link href="https://littleorange666.github.io/style/codehilite.css" rel="stylesheet">
    <link href="https://littleorange666.github.io/style/main.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>
    <script src="https://littleorange666.github.io/script/jquery.js"></script>
</head>

<body>
    <div id="top_area">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="https://littleorange666.github.io/">首頁</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#" id="previous">前一頁</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
    <div id="indexbar" class="toc"></div>
    <div id="main_area" class="container-fluid" data-hard-breaks="true">
        <h1 id="_1">基礎語法</h1>
<h2 id="_2">換行</h2>
<p>在Python裡每換一行就代表下一段程式碼，不需要也不能有分號<br>
但在以下兩個情況電腦會將不同行看成同一段程式碼</p>
<p>一、 括號未完成</p>
<div class="codehilite"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<p>可以寫成</p>
<div class="codehilite"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="mi">1</span>
<span class="o">+</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<p>二、行結尾是反斜槓</p>
<div class="codehilite"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="mi">87</span>
</code></pre></div>

<p>可以寫成</p>
<div class="codehilite"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> \
<span class="mi">87</span>
</code></pre></div>

<p>這兩種寫法一般用在一行程式碼太長的時候，換行寫比較好看</p>
<h2 id="_3">註解</h2>
<p>有時候在程式中需要注明一些程式的功能，就可以用註解<br>
單行註解用一個井字號開頭：</p>
<div class="codehilite"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#把a設置為1</span>
</code></pre></div>

<p>多行註解用三個引號包起來：</p>
<div class="codehilite"><pre><span></span><code><span class="sd">"""</span>
<span class="sd">常數設置</span>
<span class="sd">a->1, b->2</span>
<span class="sd">"""</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
</code></pre></div>

<h2 id="_4">變數</h2>
<p>變數是給資料值的一個"暱稱"，可以告訴電腦該資料值之後可能會用到，不要刪掉。</p>
<h3 id="_5">賦值</h3>
<p>賦值即是把一個"暱稱"設定給一個資料值</p>
<div class="codehilite"><pre><span></span><code><span class="n">變數名稱</span> <span class="o">=</span> <span class="n">資料值</span>
</code></pre></div>

<p>或著</p>
<div class="codehilite"><pre><span></span><code><span class="n">變數名稱</span> <span class="o">=</span> <span class="n">另一個變數名稱</span>
</code></pre></div>

<p><details><summary>注：</summary><br>
這種寫法在資料值可變時會使兩個變數代表同個值，使其連動<br>
可以用這樣的寫法來做淺複製(詳細的"變數與型別"再說)</p>
<div class="codehilite"><pre><span></span><code><span class="n">變數名稱</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">另一個變數名稱</span><span class="p">)(</span><span class="n">另一個變數名稱</span><span class="p">)</span>
</code></pre></div>

<p></details><br>
範例：</p>
<div class="codehilite"><pre><span></span><code><span class="n">num</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">真的</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">你好</span> <span class="o">=</span> <span class="s2">"Hello"</span>
<span class="n">こんにちは</span> <span class="o">=</span> <span class="s1">'안녕하세요'</span>
<span class="n">日期</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</code></pre></div>

<p>變數名稱可以是任何的文字，可以用任何語言，但通常建議用英文<br>
且不能和保留字重複<br>
也建議不要和內建的函數、常數、類型重名(可能會有非預期的結果)<br>
不能以數字開頭(可以包含數字)，不能包含計算符號(加減乘除之類的符號)<br>
<details><summary>保留字</summary><br>
False、None、True、and、as、assert、async、await、break、class、continue、def、del、elif、else、except、finally、for、from、global、if、import、in、is、lambda、nonlocal、not、or、pass、raise、return、try、while、with、yield<br>
</details><br>
<details><summary>內建函數、常數、類型名稱</summary><br>
ArithmeticError、AssertionError、AttributeError、BaseException、BlockingIOError、BrokenPipeError、BufferError、BytesWarning、ChildProcessError、ConnectionAbortedError、ConnectionError、ConnectionRefusedError、ConnectionResetError、DeprecationWarning、EOFError、Ellipsis、EncodingWarning、EnvironmentError、Exception、False、FileExistsError、FileNotFoundError、FloatingPointError、FutureWarning、GeneratorExit、IOError、ImportError、ImportWarning、IndentationError、IndexError、InterruptedError、IsADirectoryError、KeyError、KeyboardInterrupt、LookupError、MemoryError、ModuleNotFoundError、NameError 、None、NotADirectoryError、NotImplemented、NotImplementedError、OSError、OverflowError、PendingDeprecationWarning、PermissionError、ProcessLookupError、RecursionError、ReferenceError、ResourceWarning、RuntimeError、RuntimeWarning、StopAsyncIteration、StopIteration、SyntaxError、SyntaxWarning、SystemError、SystemExit、TabError、TimeoutError、True、TypeError 、UnboundLocalError、UnicodeDecodeError、UnicodeEncodeError、UnicodeError、UnicodeTranslateError、UnicodeWarning、UserWarning、ValueError、Warning、WindowsError、ZeroDivisionError、__build_class__、__debug__、__doc__、__import__、__loader__、__name__、__package__、__spec__、abs、aiter、all、anext、any、ascii、bin、bool、breakpoint、bytearray、bytes、callable、chr、classmethod、compile、complex、copyright、credits、delattr、dict、dir、divmod、enumerate、eval、exec、exit、filter、float、format、frozenset、getattr、globals、hasattr、hash、help、hex、id、input、int、isinstance、issubclass、iter、len、license、list、locals、map、max、memoryview、min、next、object、oct、open、ord、pow、print、property、quit、range、repr、reversed、round、set、setattr、slice、sorted、staticmethod、str、sum、super、tuple、type、vars、zip<br>
</details><br>
辨別方法：<br>
通常編輯器在碰到以上名稱時，都會有特殊顏色，若有出現則盡量避免使用該名稱，或是在結尾加一個底線</p>
<h3 id="_6">使用</h3>
<p>變數名稱可以直接當作一個資料值來處理</p>
<h2 id="_7">常用資料類型</h2>
<p>在程式中，所有的資料值都有類型，用來讓電腦分辨要如何處裡資料<br>
可以用</p>
<div class="codehilite"><pre><span></span><code><span class="nb">type</span><span class="p">(</span><span class="n">資料值</span><span class="p">)</span>
</code></pre></div>

<p>來獲取資料值的類型</p>
<h4 id="_8">常用資料類型包括：</h4>
<ul>
<li>布林值 bool</li>
<li>整數 int</li>
<li>浮點數 float</li>
<li>複數 complex</li>
<li>字串 str</li>
<li>空值 NoneType</li>
</ul>
<h4 id="_9">還有一些類型是用來儲存多個資料的，包括：</h4>
<ul>
<li>元組 tuple</li>
<li>清單 list (可變)</li>
<li>集合 set (可變)</li>
<li>不可變集合 frozenset</li>
<li>字典 dict (可變)</li>
</ul>
<h3 id="_10">布林值</h3>
<p>布林值是表示"是"和"否"的資料<br>
"是"寫作</p>
<div class="codehilite"><pre><span></span><code><span class="kc">True</span>
</code></pre></div>

<p>"否"寫作</p>
<div class="codehilite"><pre><span></span><code><span class="kc">False</span>
</code></pre></div>

<p><strong>大小寫必須正確</strong><br>
布林值可以和數字混在一起計算<br>
True=1, False=0</p>
<h3 id="_11">數字</h3>
<p>數字就是數字<br>
比較需要注意的是虛數符號要用"j"而非"i"<br>
且"1j"不能簡記為"j"<br>
範例：</p>
<div class="codehilite"><pre><span></span><code><span class="mi">123</span>      <span class="c1">#整數</span>
<span class="mf">123.0</span>    <span class="c1">#浮點數</span>
<span class="mf">12.33</span>    <span class="c1">#浮點數</span>
<span class="p">(</span><span class="mf">1.2</span><span class="o">+</span><span class="mi">3</span><span class="n">j</span><span class="p">)</span> <span class="c1">#複數</span>
</code></pre></div>

<h3 id="_12">字串</h3>
<p>字串表示一段文字<br>
在程式中要用英文引號包起來<br>
範例：</p>
<div class="codehilite"><pre><span></span><code><span class="s1">'你好'</span>
<span class="s2">"阿"</span>
</code></pre></div>

<h3 id="_13">空值</h3>
<p>空值用於標記不存在/未確定的值<br>
表示為：</p>
<div class="codehilite"><pre><span></span><code><span class="kc">None</span>
</code></pre></div>

<h3 id="_14">元組</h3>
<p>元組表示並列且有序的一組任意長度的資料值<br>
長度不可改變，元素不可寫入<br>
範例：</p>
<div class="codehilite"><pre><span></span><code><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">13</span><span class="p">)</span> <span class="c1">#用小括號包住用半形逗號分隔的資料</span>
<span class="n">t</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">13</span>   <span class="c1">#如果沒有歧義，可以省略小括號，這行和上一行同義</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span><span class="s2">"你好"</span><span class="p">)</span> <span class="c1">#可以包含不同型別的資料</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1">#True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="c1">#87</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c1">#你好</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">+</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="c1">#直接加東西在結尾</span>
</code></pre></div>

<h3 id="_15">清單</h3>
<p>清單表示並列且有序的一組任意長度的資料值<br>
可插入/刪除資料<br>
類似C++的vector<br>
範例：</p>
<div class="codehilite"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">#空清單</span>
<span class="n">a</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span> <span class="c1">#還是空清單</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="s2">"haha"</span><span class="p">]</span> <span class="c1">#可以包含不同型別的資料</span>
<span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"1"</span><span class="p">)</span> <span class="c1">#在結尾加入資料</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1">#[7, 8, "haha", "1"]</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">+</span><span class="p">[</span><span class="s2">"owo"</span><span class="p">,</span><span class="mi">1234</span><span class="p">]</span> <span class="c1">#直接加東西在結尾</span>
<span class="n">a</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">"owo"</span><span class="p">,</span><span class="mi">1234</span><span class="p">])</span> <span class="c1">#和上一行類似，但可加上任意型別且在原地操作</span>
</code></pre></div>

<h3 id="_16">集合</h3>
<p>集合表示無序不重複的一組任意長度的資料值<br>
並能夠在常數時間裡檢查一元素是否在集合中<br>
類似數學上的集合<br>
類似C++的unordered_set<br>
不能存可變的值，如：list、set、dict<br>
要存其他set必須轉換成frozenset<br>
範例：</p>
<div class="codehilite"><pre><span></span><code><span class="n">s</span> <span class="o">=</span> <span class="p">{</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">}</span> <span class="c1">#集合</span>
<span class="n">s</span> <span class="o">=</span> <span class="p">{</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">}</span> <span class="c1">#和上一行一樣</span>
<span class="n">s</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="c1">#加一個</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span> <span class="c1">#集合合併</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="c1">#{8, 4, 5, 7}</span>
</code></pre></div>

<h3 id="_17">字典</h3>
<p>字典是鍵-值對的資料結構<br>
鍵是唯一的，值不一定唯一<br>
在較新的python版本(3.7+)中鍵會按照加入的順序排列<br>
類似C++的unordered_map</p>
<div class="codehilite"><pre><span></span><code><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"a"</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">:</span><span class="mi">34</span><span class="p">}</span> <span class="c1">#字典</span>
<span class="n">d</span><span class="p">[</span><span class="s2">"c"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">56</span> <span class="c1">#新增資料</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">"a"</span><span class="p">])</span> <span class="c1">#12</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="c1">#{'a': 12, 'b': 34, 'c': 56}</span>
</code></pre></div>

<h3 id="_18">順帶一提</h3>
<p>類型名稱可以視為一個函數，用來複製資料值或把其他類型的資料轉換成當前類型<br>
較常用的有int(),float(),str(),bool(),list()<br>
範例：</p>
<div class="codehilite"><pre><span></span><code><span class="nb">int</span><span class="p">(</span><span class="s2">"123"</span><span class="p">)</span> <span class="c1">#123 #轉換為整數</span>
<span class="nb">float</span><span class="p">(</span><span class="s2">"8.7"</span><span class="p">)</span> <span class="c1">#8.7 #轉換為浮點數</span>
<span class="nb">str</span><span class="p">(</span><span class="mi">666</span><span class="p">)</span> <span class="c1">#'666' #轉換為字串</span>
<span class="nb">bool</span><span class="p">(</span><span class="s2">"xxx"</span><span class="p">)</span> <span class="c1">#True #轉換為布林值</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="c1">#[0,1,2] #轉換為列表</span>
</code></pre></div>

<h2 id="_19">輸出和輸入</h2>
<h3 id="_20">輸出</h3>
<div class="codehilite"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">值</span><span class="p">)</span>
</code></pre></div>

<p>把數值列印到螢幕上，並換行<br>
不想要結尾換行可以這樣寫：</p>
<div class="codehilite"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">值</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span>
</code></pre></div>

<h3 id="_21">輸入</h3>
<div class="codehilite"><pre><span></span><code><span class="n">input_str</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"問題"</span><span class="p">)</span>

<span class="c1">#同義於</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"問題"</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span>
<span class="n">input_str</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
</code></pre></div>

<p>先輸出一行字(不換行)(可選)，再接收一行字串</p>
<h2 id="_22">基礎運算子</h2>
<p>常用的計算符包含：</p>
<ul>
<li>數學運算子 <code>+</code> <code>-</code> <code>*</code> <code>/</code> <code>//</code> <code>%</code> <code>**</code></li>
<li>比較運算子 <code>></code> <code><</code> <code>>=</code> <code><=</code> <code>==</code> <code>!=</code></li>
<li>位元運算子 <code><<</code> <code>|</code> <code>&</code> <code>^</code> <code>>></code> <code>~</code></li>
<li>邏輯運算子 <code>not</code> <code>or</code> <code>and</code></li>
<li>賦值運算子 <code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code> <code>//=</code> <code>%=</code> <code>**=</code> <code><<=</code> <code>>>=</code> <code>|=</code> <code>&=</code> <code>^=</code></li>
<li>其他 <code>[]</code> <code>()</code> <code>{}</code> <code>is</code> <code>is not</code> <code>in</code> <code>not in</code></li>
</ul>
<p><details><summary>總表</p></summary>
<table>
<thead>
<tr>
<th>順序</th>
<th>方向</th>
<th>形式</th>
<th>名稱</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>右至左</td>
<td>a**b</td>
<td>指數</td>
</tr>
<tr>
<td>2</td>
<td>左至右</td>
<td>~a</td>
<td>按位反轉</td>
</tr>
<tr>
<td>2</td>
<td>左至右</td>
<td>+a</td>
<td>正號</td>
</tr>
<tr>
<td>2</td>
<td>左至右</td>
<td>-a</td>
<td>負號</td>
</tr>
<tr>
<td>3</td>
<td>左至右</td>
<td>a*b</td>
<td>乘法</td>
</tr>
<tr>
<td>3</td>
<td>左至右</td>
<td>a/b</td>
<td>除法</td>
</tr>
<tr>
<td>3</td>
<td>左至右</td>
<td>a//b</td>
<td>整除法</td>
</tr>
<tr>
<td>3</td>
<td>左至右</td>
<td>a%b</td>
<td>取餘數</td>
</tr>
<tr>
<td>4</td>
<td>左至右</td>
<td>a+b</td>
<td>加法</td>
</tr>
<tr>
<td>4</td>
<td>左至右</td>
<td>a-b</td>
<td>減法</td>
</tr>
<tr>
<td>5</td>
<td>左至右</td>
<td>a<<b</td>
<td>位元左移</td>
</tr>
<tr>
<td>5</td>
<td>左至右</td>
<td>a>>b</td>
<td>位元右移</td>
</tr>
<tr>
<td>6</td>
<td>左至右</td>
<td>a&b</td>
<td>按位且</td>
</tr>
<tr>
<td>7</td>
<td>左至右</td>
<td>a^b</td>
<td>按位異或</td>
</tr>
<tr>
<td>7</td>
<td>左至右</td>
<td>a|b</td>
<td>按位或</td>
</tr>
<tr>
<td>8</td>
<td>左至右</td>
<td>a==b</td>
<td>相等</td>
</tr>
<tr>
<td>8</td>
<td>左至右</td>
<td>a<=b</td>
<td>小於等於</td>
</tr>
<tr>
<td>8</td>
<td>左至右</td>
<td>a>=b</td>
<td>大於等於</td>
</tr>
<tr>
<td>8</td>
<td>左至右</td>
<td>a<b</td>
<td>小於</td>
</tr>
<tr>
<td>8</td>
<td>左至右</td>
<td>a>b</td>
<td>大於</td>
</tr>
<tr>
<td>8</td>
<td>左至右</td>
<td>a!=b</td>
<td>不相等</td>
</tr>
<tr>
<td>8</td>
<td>左至右</td>
<td>a is b</td>
<td>相同</td>
</tr>
<tr>
<td>8</td>
<td>左至右</td>
<td>a is not b</td>
<td>不相同</td>
</tr>
<tr>
<td>8</td>
<td>左至右</td>
<td>a in b</td>
<td>a在b之中</td>
</tr>
<tr>
<td>8</td>
<td>左至右</td>
<td>a not in b</td>
<td>a不在b之中</td>
</tr>
<tr>
<td>9</td>
<td>左至右</td>
<td>not a</td>
<td>邏輯非</td>
</tr>
<tr>
<td>10</td>
<td>左至右</td>
<td>a and b</td>
<td>邏輯且</td>
</tr>
<tr>
<td>11</td>
<td>左至右</td>
<td>a or b</td>
<td>邏輯或</td>
</tr>
<tr>
<td>12</td>
<td>左至右</td>
<td>a = b</td>
<td>賦值計算符</td>
</tr>
</tbody>
</table>
<p></details></p>
<h3 id="_23">象牙運算子</h3>
<p>象牙運算子<code>:=</code>是在Python3.8中新增的特性<br>
Python中賦值運算子(包含<code>+=</code>之類的)不具有回傳值(不是回傳None)，不能拿來作其他計算<br>
象牙運算子可以在賦值的同時具有回傳值<br>
但有一些限制</p>
<ol>
<li>只能直接對變數賦值，不能對物件的屬性賦值</li>
<li>必須包在括號裡面，除非被用在if,for,while等敘述中(大致就是C++要加括號Python不加括號的地方)</li>
</ol>
<h2 id="_24">語法結構</h2>
<h3 id="_25">條件判斷</h3>
<p>條件判斷可以指定在特定條件符合值才執行部分程式碼</p>
<div class="codehilite"><pre><span></span><code><span class="c1">#縮排是必須的</span>
<span class="k">if</span> <span class="n">條件</span><span class="p">:</span>
    <span class="n">程式碼</span>
<span class="k">elif</span> <span class="n">另一個條件</span><span class="p">:</span> <span class="c1">#非必要，可以有很多</span>
    <span class="n">程式碼</span>
<span class="k">else</span><span class="p">:</span> <span class="c1">#非必要</span>
    <span class="n">程式碼</span>
</code></pre></div>

<h3 id="_26">例外處理</h3>
<p>例外處理語法可以接收執行過程中出現的錯誤，並做適當地處理</p>
<div class="codehilite"><pre><span></span><code><span class="k">try</span><span class="p">:</span>
    <span class="c1">#主程式</span>
<span class="k">except</span> <span class="n">錯誤類型</span> <span class="k">as</span> <span class="n">變數名</span><span class="p">:</span> <span class="c1">#'as 變數名'非必要 #可以有很多</span>
    <span class="c1">#例外處理</span>
<span class="k">else</span><span class="p">:</span> <span class="c1">#非必要</span>
    <span class="c1">#沒例外時的處理</span>
<span class="k">finally</span><span class="p">:</span> <span class="c1">#非必要</span>
    <span class="c1">#無論如何都會執行</span>
</code></pre></div>

<p>此語法通常用於對不可預防的錯誤(例如：IOError)做處理<br>
例外處理可以快速的跳出迴圈/函數，但不建議這樣用</p>
<h4 id="_27">丟出例外</h4>
<div class="codehilite"><pre><span></span><code><span class="k">raise</span> <span class="n">例外物件</span>
</code></pre></div>

<p>除了直接丟出以外，還可以用assert表示在不符合條件時自動丟出例外</p>
<div class="codehilite"><pre><span></span><code><span class="k">assert</span> <span class="n">條件</span>
</code></pre></div>

<p>等同於</p>
<div class="codehilite"><pre><span></span><code><span class="k">if</span> <span class="ow">not</span> <span class="n">條件</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">AssertionError</span>
</code></pre></div>

<h3 id="with">上下文管理(with語法)</h3>
<p>with語法可以更簡潔的語法確保資源被正確釋放<br>
常用於檔案的操作</p>
<div class="codehilite"><pre><span></span><code><span class="k">with</span> <span class="n">表達式</span> <span class="k">as</span> <span class="n">變數</span><span class="p">:</span> <span class="c1">#as不是必須</span>
    <span class="c1">#主程式</span>
</code></pre></div>

<p>等同於</p>
<div class="codehilite"><pre><span></span><code><span class="n">_contextmanager</span><span class="o">=</span><span class="n">表達式</span>
<span class="n">_value</span> <span class="o">=</span> <span class="n">_contextmanager</span><span class="o">.</span><span class="fm">__enter__</span><span class="p">()</span>
<span class="n">_success</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">變數</span> <span class="o">=</span> <span class="n">_value</span>
    <span class="c1">#主程式</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">_success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_contextmanager</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">(</span><span class="o">*</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()):</span>
        <span class="k">raise</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">_success</span><span class="p">:</span>
        <span class="n">_contextmanager</span><span class="o">.</span><span class="fm">__exit__</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

<p>表達式必須產出一個contextmanager<br>
with語法也可以用於使中間的程式展現特定的行為<br>
例如：指定cpu/gpu<br>
<details><summary>Example: 檔案的開啟</p></summary>
<div class="codehilite"><pre><span></span><code><span class="n">name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"filename:"</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"content of "</span> <span class="o">+</span><span class="nb">repr</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">+</span><span class="s2">" :"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</code></pre></div>

<p></details><br>
<details><summary>Example: 列印時間</p></summary>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">time</span><span class="o">,</span><span class="nn">traceback</span>
<span class="k">class</span> <span class="nc">TimePrinter</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_print</span> <span class="o">=</span> <span class="n">__builtins__</span><span class="o">.</span><span class="n">print</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kws</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"[INFO][</span><span class="si">{</span><span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">()</span><span class="si">}</span><span class="s2">]: "</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_print</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kws</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">PrintTime</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_print</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">__builtins__</span><span class="o">.</span><span class="n">print</span><span class="p">,</span><span class="n">TimePrinter</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">on</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">old_print</span> <span class="o">=</span> <span class="n">__builtins__</span><span class="o">.</span><span class="n">print</span>
            <span class="n">__builtins__</span><span class="o">.</span><span class="n">print</span> <span class="o">=</span> <span class="n">TimePrinter</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">__builtins__</span><span class="o">.</span><span class="n">print</span>
    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">on</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">on</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">__builtins__</span><span class="o">.</span><span class="n">print</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">old_print</span>
            <span class="k">if</span> <span class="n">exc_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"[EXCEPTION][</span><span class="si">{</span><span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">()</span><span class="si">}</span><span class="s2">]"</span><span class="p">)</span>
                <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">exc_type</span><span class="o">.</span><span class="vm">__name__</span> <span class="si">}{</span><span class="s1">': '</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">exc_value</span><span class="p">)</span> <span class="k">if</span> <span class="n">exc_value</span> <span class="k">else</span> <span class="s1">''</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
<span class="k">if</span> <span class="vm">__name__</span><span class="o">==</span><span class="s1">'__main__'</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">PrintTime</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</code></pre></div>

<p></details></p>
<h2 id="_28">迴圈</h2>
<h3 id="for">for迴圈：</h3>
<p>for迴圈可以對可迭代物件中的每一項進行相同的處理</p>
<div class="codehilite"><pre><span></span><code><span class="k">for</span> <span class="n">變數</span> <span class="ow">in</span> <span class="n">可迭代物件</span><span class="p">:</span>
    <span class="n">程式碼</span>
</code></pre></div>

<p>需要注意的是，直接對字典進行迭代與對鍵值進行迭代效果相同<br>
可迭代物件中 有兩個常用在for迴圈裡</p>
<ol>
<li>range</li>
<li>enumerate</li>
</ol>
<h4 id="range">range</h4>
<p>range有三種寫法</p>
<div class="codehilite"><pre><span></span><code><span class="nb">range</span><span class="p">(</span><span class="n">結尾</span><span class="p">)</span>
<span class="nb">range</span><span class="p">(</span><span class="n">開頭</span><span class="p">,</span><span class="n">結尾</span><span class="p">)</span>
<span class="nb">range</span><span class="p">(</span><span class="n">開頭</span><span class="p">,</span><span class="n">結尾</span><span class="p">,</span><span class="n">步長</span><span class="p">)</span>
</code></pre></div>

<p>range代表一個從<code>開頭</code>到<code>結尾</code>間隔<code>步長</code>的等差數列(不包含結尾)<br>
<code>開頭</code>默認為<code>0</code>，<code>步長</code>默認為<code>1</code><br>
三個值都可以是負的<br>
range不會直接產生數列，而是在要用到的時候才計算</p>
<h4 id="enumerate">enumerate</h4>
<p>enumerate語法如下</p>
<div class="codehilite"><pre><span></span><code><span class="nb">enumerate</span><span class="p">(</span><span class="n">可迭代物件</span><span class="p">)</span>
</code></pre></div>

<p>enumerate輸入一個<code>可迭代物件</code>，輸出的每一元素為(編號,值)的元組<br>
通常寫作</p>
<div class="codehilite"><pre><span></span><code><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="c1">#do something</span>
</code></pre></div>

<h3 id="while">while迴圈：</h3>
<p>while迴圈可以在條件符合時不斷重複相同程式碼</p>
<div class="codehilite"><pre><span></span><code><span class="k">while</span> <span class="n">條件</span><span class="p">:</span>
    <span class="n">程式碼</span>
</code></pre></div>

<h2 id="_29">自訂函數</h2>
<p>自訂函數可以把重複用到的功能打包起來，方便使用<br>
語法：</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">函數名</span><span class="p">(</span><span class="n">參數列表</span><span class="p">):</span>
    <span class="n">程式碼</span>
    <span class="k">return</span> <span class="n">回傳值</span> <span class="c1">#非必要 不一定要在最後一行</span>
</code></pre></div>

<h2 id="_30">三元運算子</h2>
<p>三元運算子可以簡化條件判斷<br>
語法：</p>
<div class="codehilite"><pre><span></span><code><span class="n">值1</span> <span class="k">if</span> <span class="n">條件</span> <span class="k">else</span> <span class="n">值2</span>
</code></pre></div>

<p>空格不能省略<br>
這一整個可以視為一個值<br>
當條件成立，輸出值1；當條件不成立，輸出值2<br>
Ex:</p>
<div class="codehilite"><pre><span></span><code><span class="n">i</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">"input:"</span><span class="p">))</span>
<span class="k">if</span> <span class="n">i</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"odd"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"even"</span><span class="p">)</span>
</code></pre></div>

<p>可簡化為</p>
<div class="codehilite"><pre><span></span><code><span class="n">i</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">"input:"</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"odd"</span> <span class="k">if</span> <span class="n">i</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">1</span> <span class="k">else</span> <span class="s2">"even"</span><span class="p">)</span>
</code></pre></div>

<h2 id="comprehension">推導式(Comprehension)</h2>
<p>這沒有統一的翻譯，在此暫時稱之為推導式<br>
推導式來源於數學中的集合建構式<br>
如下：<br>
<script type="math/tex; mode=display">集合={輸出表達式|變量\in輸入集合, 謂詞}</script>
<br>
Python中的推導式有4種，分別是</p>
<ul>
<li>列表推導式(List Comprehension)</li>
<li>集合推導式(Set Comprehension)</li>
<li>字典推導式(Dictionary Comprehension)</li>
<li>生成器表達式(Generator Expression)<br>
共通語法：</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="n">左括號</span> <span class="n">輸出表達式</span> <span class="k">for</span> <span class="n">變量</span> <span class="ow">in</span> <span class="n">輸入集合</span> <span class="n">右括號</span>

<span class="c1">#或著加上謂詞</span>
<span class="n">左括號</span> <span class="n">輸出表達式</span> <span class="k">for</span> <span class="n">變量</span> <span class="ow">in</span> <span class="n">輸入集合</span> <span class="k">if</span> <span class="n">謂詞</span> <span class="n">右括號</span>
</code></pre></div>

<h3 id="list-comprehension">列表推導式(List Comprehension)</h3>
<p>算是其中較常用的一種<br>
元素的順序會被保留<br>
使用中括號[]</p>
<h3 id="set-comprehension">集合推導式(Set Comprehension)</h3>
<p>與列表推導式類似，會去除相同的元素<br>
元素的順序會不被保留<br>
使用大括號{}</p>
<h3 id="dictionary-comprehension">字典推導式(Dictionary Comprehension)</h3>
<p>與集合推導式類似，會覆蓋鍵值相同的元素<br>
輸出表達式必須為 <code>鍵值:值</code> 的格式<br>
元素的順序會被保留<br>
使用大括號{}</p>
<h3 id="generator-expression">生成器表達式(Generator Expression)</h3>
<p>雖然名稱不同但用法類似<br>
但它並不會在表達式完成前求出所有元素的值<br>
而是產生一個生成器，用到的時候再求出元素的值<br>
若各元素只會被用到一次，相較於列表推導式可節省記憶體與時間<br>
元素的順序會被保留<br>
使用小括號()</p>
<h2 id="main">關於main</h2>
<p>Python程式不需要包含在main函數裡就可執行<br>
若是要長期維護的代碼會建議用如下語法：</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># 主要程式碼</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>

<p>這種寫法可以使程式碼在被import時不自動執行主要程式碼<br>
但同時可以手動執行main<br>
而且有一些函數庫會要求把程式碼寫在<code>if __name__ == '__main__':</code>裡面(例如：PyQt)<br>
並能明確的標示出主要程式碼的位置</p>
    </div>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            config: ["MMLorHTML.js"],
            jax: ["input/TeX", "output/HTML-CSS", "output/NativeMML"],
            extensions: ["MathMenu.js", "MathZoom.js"]
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
    <script src="https://littleorange666.github.io/script/main.js"></script>
</body>

</html>