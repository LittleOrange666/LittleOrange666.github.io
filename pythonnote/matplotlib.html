<html>

<head>
    <title>Python matplotlib</title>
    <base target="_top">
    <link href="https://littleorange666.github.io/style/codehilite.css" rel="stylesheet">
    <link href="https://littleorange666.github.io/style/main.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>
    <script src="https://littleorange666.github.io/script/jquery.js"></script>
</head>

<body>
    <div id="top_area">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="https://littleorange666.github.io/">首頁</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#" id="previous">前一頁</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#" id="previous">回到頂部</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
    <div id="indexbar" class="toc"></div>
    <div id="main_area" class="container-fluid" data-hard-breaks="true">
        <h1 id="matplotlib">matplotlib</h1>
<p>因為和通常numpy一起用，所以開頭要寫</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">'font.sans-serif'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Microsoft JhengHei'</span><span class="p">]</span> <span class="c1"># 正常顯示中文</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">'axes.unicode_minus'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1"># 正常顯示負號</span>
</code></pre></div>

<h2 id="_1">初始化與顯示</h2>
<h3 id="_2">作法一：建立影像物件</h3>
<p>語法如下</p>
<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
</code></pre></div>

<p><code>fig</code>可以換成其他名稱，以下使用<code>fig</code>指代影像物件<br>
建立完成繪圖物件再建立一個子圖</p>
<div class="codehilite"><pre><span></span><code><span class="n">axe</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">nrows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="o">|</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div>

<p>想像一個<code>nrows</code>橫行<code>ncols</code>直列的網格，並把<code>axe</code>放在<code>index</code>所指的位置<br>
注意此處座標/索引皆由1開始而非由0開始<br>
如果不需要進行排版可以省略所有引數<br>
最後是顯示的部分</p>
<div class="codehilite"><pre><span></span><code><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>

<p>如果用的是Python console則會建立一個視窗來顯示圖表<br>
如果用的是Jupyter NoteBook/JupyterLab則會顯示在建立fig和axe的那一個Cell下方(fig和axe要在同一個Cell建立，否則不會顯示)，且不需要執行此行<br>
若堅持要使用show，則在開頭加上</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">'TkAgg'</span><span class="p">)</span>
</code></pre></div>

<p>且此作法會導致程式建立一個視窗來顯示圖表</p>
<h3 id="plt">作法二：直接使用plt</h3>
<p>若不想要使用繪圖物件，可以把<code>plt</code>當成一個子圖來使用<br>
使用Jupyter NoteBook/JupyterLab時建議使用此做法<br>
也可以建立個子圖</p>
<div class="codehilite"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="n">nrows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="o">|</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div>

<p>想像一個<code>nrows</code>橫行<code>ncols</code>直列的網格，並在<code>index</code>所指的位置建立子圖，使<code>plt</code>當成該子圖使用<br>
最後是顯示的部分</p>
<div class="codehilite"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>

<p>如果用的是Python console則會建立一個視窗來顯示圖表<br>
如果用的是Jupyter NoteBook/JupyterLab則會顯示在下方</p>
<h2 id="_3">圖表繪製</h2>
<h3 id="_4">基本繪製</h3>
<h4 id="_5">折線圖</h4>
<div class="codehilite"><pre><span></span><code><span class="n">lines</span> <span class="o">=</span> <span class="n">axe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x軸資料</span><span class="p">,</span><span class="n">y軸資料</span><span class="p">,</span><span class="n">樣式</span><span class="p">)</span>
</code></pre></div>

<p>"資料"可以是<code>list</code>或是一維的<code>numpy陣列</code><br>
資料可以不只一組，用來在一張圖中顯示多筆資料<br>
兩筆資料這樣寫：</p>
<div class="codehilite"><pre><span></span><code><span class="n">lines</span> <span class="o">=</span> <span class="n">axe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x軸資料1</span><span class="p">,</span><span class="n">y軸資料1</span><span class="p">,</span><span class="n">x軸資料2</span><span class="p">,</span><span class="n">y軸資料2</span><span class="p">,</span><span class="n">樣式</span><span class="p">)</span>
</code></pre></div>

<p>lines是一個儲存折線的列表，幾組資料就幾條折線<br>
<details><summary>折線圖樣式</summary><br>
樣式是一個字串，由三個部分組成<br>
1. 色彩字元</p>
<table>
<thead>
<tr>
<th>色彩字元</th>
<th>說明</th>
</tr>
</thead>
<tbody>
<tr>
<td>b</td>
<td>藍</td>
</tr>
<tr>
<td>g</td>
<td>綠</td>
</tr>
<tr>
<td>r</td>
<td>紅</td>
</tr>
<tr>
<td>c</td>
<td>青</td>
</tr>
<tr>
<td>m</td>
<td>洋紅</td>
</tr>
<tr>
<td>y</td>
<td>黃</td>
</tr>
<tr>
<td>k</td>
<td>黑</td>
</tr>
<tr>
<td>w</td>
<td>白</td>
</tr>
<tr>
<td>2. 線型字元</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>線型字元</th>
<th>說明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>實線</td>
</tr>
<tr>
<td>--</td>
<td>短劃虛線</td>
</tr>
<tr>
<td>.</td>
<td>點虛線</td>
</tr>
<tr>
<td>-:</td>
<td>短劃點虛線</td>
</tr>
<tr>
<td>3. 符號字元</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>符號字元</th>
<th>說明</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>點</td>
</tr>
<tr>
<td>,</td>
<td>像素</td>
</tr>
<tr>
<td>o</td>
<td>圓形</td>
</tr>
<tr>
<td>s</td>
<td>方形</td>
</tr>
<tr>
<td>^</td>
<td>三角形</td>
</tr>
</tbody>
</table>
<p>Ex.藍色實線並用三角形符號記做</p>
<div class="codehilite"><pre><span></span><code><span class="s2">"b-^"</span>
</code></pre></div>

<p></details></p>
<h4 id="_6">散佈圖</h4>
<div class="codehilite"><pre><span></span><code><span class="n">axe</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x軸資料</span><span class="p">,</span><span class="n">y軸資料</span><span class="p">,</span><span class="n">點大小</span><span class="p">,</span><span class="n">色彩</span><span class="p">)</span>
</code></pre></div>

<p>"資料"可以是<code>list</code>或是一維的<code>numpy陣列</code>，只能有一組<br>
"點大小"和"色彩"是和資料長度相同的<code>list</code>或是一維的<code>numpy陣列</code><br>
<code>scatter</code>指令可重複執行來疊加資料</p>
<h4 id="_7">長條圖</h4>
<p>垂直：</p>
<div class="codehilite"><pre><span></span><code><span class="n">axe</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">索引</span><span class="p">,</span><span class="n">資料</span><span class="p">)</span>
<span class="n">axe</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">索引</span><span class="p">,</span><span class="n">標籤</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">索引</span><span class="p">,</span><span class="n">標籤</span><span class="p">)</span> <span class="c1">#對於使用plt的情況</span>
</code></pre></div>

<p>水平：</p>
<div class="codehilite"><pre><span></span><code><span class="n">axe</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">索引</span><span class="p">,</span><span class="n">資料</span><span class="p">)</span>
<span class="n">axe</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">索引</span><span class="p">,</span><span class="n">標籤</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">索引</span><span class="p">,</span><span class="n">標籤</span><span class="p">)</span> <span class="c1">#對於使用plt的情況</span>
</code></pre></div>

<p>索引用來表示資料的顯示順序<br>
索引通常為</p>
<div class="codehilite"><pre><span></span><code><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">標籤</span><span class="p">))</span>
</code></pre></div>

<p><code>bar</code>指令可重複執行來疊加資料<br>
並按照索引排列</p>
<h4 id="_8">直方圖</h4>
<div class="codehilite"><pre><span></span><code><span class="n">axe</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">x軸資料</span><span class="p">,</span><span class="n">y軸資料</span><span class="p">)</span>
</code></pre></div>

<p>"資料"可以是<code>list</code>或是一維的<code>numpy陣列</code>，只能有一組</p>
<h4 id="_9">圓餅圖</h4>
<div class="codehilite"><pre><span></span><code><span class="n">patches</span><span class="p">,</span> <span class="n">texts</span> <span class="o">=</span> <span class="n">axe</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">資料</span><span class="p">,</span><span class="n">labels</span><span class="o">=</span><span class="n">標籤</span><span class="p">)</span>
</code></pre></div>

<h3 id="_10">圖例</h3>
<p>在繪製任何資料時，都可在結尾加上<code>label="xxx"</code>來設置資料集名稱<br>
如：</p>
<div class="codehilite"><pre><span></span><code><span class="n">axe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">"sin()"</span><span class="p">)</span>
</code></pre></div>

<p>並使用</p>
<div class="codehilite"><pre><span></span><code><span class="n">axe</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</code></pre></div>

<p>顯示圖例</p>
<h3 id="_11">標籤</h3>
<div class="codehilite"><pre><span></span><code><span class="n">axe</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="c1"># 標題</span>
<span class="n">axe</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="c1"># Y軸名稱</span>
<span class="n">axe</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="c1"># X軸名稱</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="c1"># 對於使用plt的情況</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="c1"># 對於使用plt的情況</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="c1"># 對於使用plt的情況</span>
</code></pre></div>

<h3 id="_12">外觀</h3>
<div class="codehilite"><pre><span></span><code><span class="n">axe</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">showgrid</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="c1"># 是否顯示網格</span>
<span class="n">axe</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="n">xmin</span><span class="p">,</span><span class="n">xmax</span><span class="p">,</span><span class="n">ymin</span><span class="p">,</span><span class="n">ymax</span><span class="p">])</span> <span class="c1"># 設置座標軸範圍</span>
</code></pre></div>

<h3 id="_13">多軸圖表</h3>
<p>要建立多軸圖表可以用</p>
<div class="codehilite"><pre><span></span><code><span class="n">twin_axe</span> <span class="o">=</span> <span class="n">axe</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
</code></pre></div>

<p>建立一個與原來子圖共用x軸的子圖<br>
再分別對兩個子圖做操作即可</p>
    </div>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            config: ["MMLorHTML.js"],
            jax: ["input/TeX", "output/HTML-CSS", "output/NativeMML"],
            extensions: ["MathMenu.js", "MathZoom.js"],
            enable_dollar_delimiter: true
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
    <script src="https://littleorange666.github.io/script/in_view.js"></script>
    <script src="https://littleorange666.github.io/script/main.js"></script>
</body>

</html>